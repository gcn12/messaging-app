(this.webpackJsonpmessages=this.webpackJsonpmessages||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/9.fc515869.png"},38:function(e,t,n){e.exports=n(57)},43:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),o=n.n(s),u=(n(43),n(9)),i=n.n(u),c=n(10),l=n(5),p=n(6),d=n(8),m=n(7),h=n(1),f=n(2);function g(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: center;\n    &:hover{\n        cursor: pointer\n    }\n"]);return g=function(){return e},e}function v(){var e=Object(h.a)(["\n    color: white;\n    padding-right: 20px;\n    &:hover{\n        cursor: pointer\n    }\n    text-decoration: ","\n"]);return v=function(){return e},e}var b=f.a.div(v(),(function(e){return e.isChatState?"underline":"none"})),x=f.a.div(g()),E=function(e){return r.a.createElement(x,null,r.a.createElement(b,{isChatState:!e.isChatState,onClick:function(){return e.isChat(!1)}},"Inbox"),r.a.createElement(b,{isChatState:e.isChatState,onClick:function(){return e.isChat(!0)}},"Chat"))},O=n(16),R=n.n(O),y=(n(24),n(25),n(49),R.a.initializeApp({apiKey:"AIzaSyDVflBKJPhm5bNZfYL5yoqT66NfyiPQgT0",authDomain:"messages-598f6.firebaseapp.com",databaseURL:"https://messages-598f6.firebaseio.com",projectId:"messages-598f6",storageBucket:"messages-598f6.appspot.com",messagingSenderId:"1044285096751",appId:"1:1044285096751:web:f00b017ec43ce7dd2557da",measurementId:"G-KRSD66CD2T"}).firestore(),new R.a.auth.GoogleAuthProvider),I=R.a.auth(),w=R.a;function j(){var e=Object(h.a)(["\n    &:hover {\n        cursor: pointer\n    }\n"]);return j=function(){return e},e}function D(){var e=Object(h.a)(["\n    height: 40px;\n    width: 93%;\n    background-color: grey;\n    border: none;\n    color: white;\n"]);return D=function(){return e},e}function M(){var e=Object(h.a)(["\n    margin-top: 10px;\n    display: flex;\n    width: 100%;\n"]);return M=function(){return e},e}var S=f.a.div(M()),C=f.a.textarea(D()),A=f.a.button(j()),U=n(4),L=function(e){return function(t){t({type:"IS_MESSAGES_LOADING",payload:e})}},_=function(e){return function(t){t({type:"LOAD_MESSAGES_TEXT",payload:e})}},k=function(e){return function(t){t({type:"PREVENT_SCROLL_DOWN",payload:e})}},T=function(e){return function(t){t({type:"ADD_QUANTITY_LOAD_MESSAGES",payload:e})}},N=function(e){return function(t){t({type:"ADD_MESSAGES",payload:e})}},q=function(e){return function(t){t({type:"ADD_ALL_CURRENT_USER_IDS",payload:e})}},B=function(e){return function(t){t({type:"ADD_ALL_CURRENT_USER_EMAILS",payload:e})}},G=function(e){return function(t){t({type:"ADD_ALL_USER_EMAILS",payload:e})}},V=function(e){return function(t){t({type:"ADD_NEW_MESSAGE_OTHER_USER_EMAIL",payload:e})}},P=function(e){return function(t){t({type:"ADD_EMAIL",payload:e})}},F=function(e){return function(t){t({type:"ADD_CURRENT_CHAT_ID",payload:e})}},W=function(e){return function(t){t({type:"ADD_USER",payload:e})}},Q=function(e){return function(t){t({type:"ADD_USERID",payload:e})}},X=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={message:""},e.submitFunction=function(){var t,n,a,r,s,o;w.database().ref("users").once("value",(function(t){var n=e.props.allUserEmailsRedux.indexOf(e.props.newMessageOtherUserEmailRedux),u=Object.keys(t.val());a=u[n],-1!==n&&(r=t.val()[a].name,s=t.val()[a].photoURL,o=t.val()[a].email)}));var u=w.database().ref("users/".concat(e.props.userID,"/messages")),i=w.database().ref("users/".concat(a,"/messages"));if(0===e.props.messagesRedux.length){var c=w.database().ref("messages"),l={lastMessage:Date.now(),user1Photo:s,user2Photo:e.props.userRedux.photoURL,user1Email:o,user2Email:e.props.userRedux.email,user1:r,user2:e.props.userRedux.displayName,request:o,requestStatus:"pending",messageCount:1};c.push(l).then((function(a){n=a.path.pieces_.pop(),u.push({messageID:n}).then((function(t){var a=w.database().ref("users/".concat(e.props.userID,"/messages/").concat(n=t.path.pieces_.pop()));setTimeout((function(){return a.update({lastMessage:Date.now()})}),15)})),i.push({messageID:n,lastMessage:Date.now()}),e.props.dispatch(F(n)),(t=w.database().ref("messages/".concat(n))).update({lastMessage:Date.now()});var r={user:e.props.usernameState,message:e.state.message,read:!1,email:e.props.emailRedux,sent:Date.now()};t.push(r),document.getElementById("message-input").value="",e.setState({message:""}),e.props.getMessages(n)}))}else{if(/^(?!\s*$).+/.test(e.state.message)){(t=w.database().ref("messages/".concat(e.props.currentChatIDRedux))).once("value",(function(n){var a=Object.values(n.val());e.props.emailRedux!==a[a.length-2]?o=a[a.length-2]:e.props.emailRedux!==a[a.length-5]&&(o=a[a.length-5]),t.update({lastMessage:Date.now(),messageCount:a[a.length-9]+1})})),e.props.dispatch(T(e.props.quantityLoadMessages+1));var p={user:e.props.usernameState,message:e.state.message,read:!1,email:e.props.emailRedux,sent:Date.now()};t.push(p),w.database().ref("users").once("value",(function(e){for(var t in e.val())e.val()[t].email===o&&(a=t)})),u.once("value",(function(t){var n=t.val();for(var a in n){if(n[a].messageID===e.props.currentChatIDRedux)w.database().ref("users/".concat(e.props.userID,"/messages/").concat(a)).update({lastMessage:Date.now()})}})),(i=w.database().ref("users/".concat(a,"/messages"))).once("value",(function(t){for(var n in t.val()){if(t.val()[n].messageID===e.props.currentChatIDRedux)w.database().ref("users/".concat(a,"/messages/").concat(n)).update({lastMessage:Date.now()})}})),w.database().ref("users/".concat(e.props.userID)).update({lastUpdated:Date.now()}),e.setState({message:""}),document.getElementById("message-input").value="",e.props.getMessages(e.props.currentChatIDRedux)}}},e.submitFunctionAsync=function(){(function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.submitFunction();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},e.submit=function(t){e.state.message.length>0&&(t.keyCode?13!==t.keyCode||t.shiftKey||(e.clearUnread(e.props.currentChatIDRedux),t.preventDefault(),e.submitFunction()):(t.preventDefault(),e.clearUnread(e.props.currentChatIDRedux),e.submitFunction(),document.getElementById("message-input").value="",document.getElementById("scroll-here")&&document.getElementById("scroll-here").scrollIntoView()))},e.handleMessageChange=function(t){e.setState({message:t.target.value})},e.clearUnread=function(t){e.props.messagesRedux.length>0&&w.database().ref("messages/".concat(t)).once("value",(function(n){var a=n.val(),r=Object.keys(a),s=Object.values(a);r.reverse().splice(0,10),s.reverse().splice(0,10);for(var o=0,u=0,i=s;u<i.length;u++){var c=i[u];if(!1!==c.read)break;c.email!==e.props.emailRedux&&(w.database().ref("messages/".concat(t,"/").concat(r[o])).update({read:!0,readTime:Date.now()}),o++)}}))},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(S,null,r.a.createElement(C,{className:"br3",onClick:function(){return e.clearUnread(e.props.currentChatIDRedux)},id:"message-input",onChange:this.handleMessageChange,placeholder:"enter message"}),r.a.createElement(A,{onClick:this.submit},"Send"))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.submit)}}]),n}(a.Component),z=Object(U.b)((function(e){return{messagesRedux:e.app.messagesRedux,emailRedux:e.app.emailRedux,allUserEmailsRedux:e.app.allUserEmailsRedux,currentChatIDRedux:e.app.currentChatIDRedux,newMessageOtherUserEmailRedux:e.app.newMessageOtherUserEmailRedux,userID:e.app.userID,userRedux:e.app.userRedux,quantityLoadMessages:e.app.quantityLoadMessages}}))(X);function H(){var e=Object(h.a)(["\n    color: rgb(220,220,220);\n"]);return H=function(){return e},e}function K(){var e=Object(h.a)(["\n    font-size: 10px;\n"]);return K=function(){return e},e}function J(){var e=Object(h.a)(["\n    margin-top: 1rem;\n    background: rgb(70,70,70);\n    visibility: ",";\n"]);return J=function(){return e},e}function Y(){var e=Object(h.a)(["\n    color: white;\n    border: none;\n    background-color: rgb(45, 45, 45);\n    &:hover {\n        cursor:pointer\n    }\n"]);return Y=function(){return e},e}function $(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return $=function(){return e},e}function Z(){var e=Object(h.a)(["\n    color: white;\n"]);return Z=function(){return e},e}function ee(){var e=Object(h.a)(["\n    color: white;\n    background-color: ",";\n    border: rgb(20,20,20) solid 1px;\n    max-width: 45%;\n    min-width: 15%;\n    word-wrap:break-word;\n    &:hover {\n        cursor: pointer\n    }\n"]);return ee=function(){return e},e}function te(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: ",";\n    align-items: center;\n"]);return te=function(){return e},e}var ne=f.a.div(te(),(function(e){return e.isCurrentUser?"row-reverse":"row"})),ae=f.a.div(ee(),(function(e){return e.isCurrentUser?"rgb(45, 45, 45)":"rgb(80, 80, 80)"})),re=f.a.div(Z()),se=f.a.div($()),oe=f.a.button(Y()),ue=f.a.div(J(),(function(e){return e.showOptions?"null":"hidden"})),ie=f.a.div(K()),ce=f.a.div(H()),le=n(27),pe=n.n(le),de=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showOptions:!1},e.show=function(){e.state.showOptions?e.setState({showOptions:!1}):e.setState({showOptions:!0})},e.hide=function(){e.setState({showOptions:!1})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return this.props.message?r.a.createElement(ne,{onMouseLeave:this.hide,isCurrentUser:this.props.emailRedux===this.props.email},r.a.createElement(ae,{isCurrentUser:this.props.emailRedux===this.props.email,onClick:this.show,className:this.props.user===this.props.userMessage?"current-user grow br3 pa3 ma1 dib bw2 shadow-5":"other-user grow br3 pa3 ma2 dib bw2 shadow-5"},"lastMessage"!==this.props.itemID&&"user1"!==this.props.itemID&&"user2"!==this.props.itemID&&"user2Photo"!==this.props.itemID&&"user1Photo"!==this.props.itemID&&"user2Email"!==this.props.itemID&&"user1Email"!==this.props.itemID?r.a.createElement("div",null,this.props.message,this.props.index===this.props.messagesQuantity-11&&this.props.readTime>0&&this.props.email===this.props.emailRedux?r.a.createElement(ie,null,"Seen ",pe.a.unix(this.props.readTime/1e3).calendar().toLowerCase()):null):null),r.a.createElement(ue,{isCurrentUser:this.props.emailRedux===this.props.email,className:"br3 pa2 ma1 dib shadow-5",showOptions:this.state.showOptions},this.props.emailRedux===this.props.email?r.a.createElement(oe,{onClick:function(){return e.props.removeItem(e.props.itemID)}},"Delete"):null,r.a.createElement(ce,null,pe.a.unix(Number(this.props.sent)/1e3).calendar()))):null}}]),n}(a.Component),me=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).removeItem=function(t){w.database().ref("/messages/".concat(e.props.currentChatIDRedux,"/").concat(t)).remove();var n=w.database().ref("messages/".concat(e.props.currentChatIDRedux));n.once("value",(function(e){var t=e.val().messageCount;n.update({messageCount:t-1})}))},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(se,null,"NEW MESSAGE"===this.props.currentChatIDRedux?r.a.createElement(re,null,"Send new message to: ",this.props.newMessageOtherUserEmailRedux):null,this.props.messagesRedux.map((function(t,n){return r.a.createElement(de,{messagesQuantity:e.props.messagesRedux.length,index:n,readTime:t.readTime,emailRedux:e.props.emailRedux,removeItem:e.removeItem,key:n,message:t.message,email:t.email,userMessage:t.user,itemID:t.itemId,sent:t.sent})})))}}]),n}(a.Component),he=Object(U.b)((function(e){return{messagesRedux:e.app.messagesRedux,emailRedux:e.app.emailRedux,currentChatIDRedux:e.app.currentChatIDRedux,newMessageOtherUserEmailRedux:e.app.newMessageOtherUserEmailRedux,isMesssagesLoading:e.app.isMesssagesLoading,quantityLoadMessages:e.app.quantityLoadMessages}}))(me);function fe(){var e=Object(h.a)(["\n    overflow: scroll;\n    \n    @media (max-width: 900px) {\n        height: ",";\n    }\n    @media (min-width: 900px) {\n        height: ",";\n    }\n    @media (max-height: 500px) {\n        height: ",";\n    }\n"]);return fe=function(){return e},e}var ge=f.a.div(fe(),(function(e){return e.heightValue?"calc(100vh - 298px)":"calc(100vh - 100px)"}),(function(e){return e.heightValue?"calc(102vh - 230px)":"calc(96vh - 140px)"}),(function(e){return e.heightValue?"calc(102vh - 320px)":"calc(100vh - 170px)"})),ve=function(e){return r.a.createElement(ge,{heightValue:e.height},e.children)};function be(){var e=Object(h.a)(["\n    color: white;\n    background-color: rgb(40,40,40);\n    border: none;\n    &:hover {\n        cursor: pointer\n    }\n"]);return be=function(){return e},e}function xe(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: center;\n"]);return xe=function(){return e},e}function Ee(){var e=Object(h.a)(["\n    @media (max-width: 900px){\n        width: 100vw;\n        height: calc(98vh - 270px);\n    }\n    @media (min-width: 900px){\n        width: 55vw;\n        height: calc(100vh - 200px);\n    }\n    @media (min-width: 1100px){\n        width: 700px;\n        height: calc(100vh - 200px);\n    }\n    @media (max-height: 500px){\n        height: calc(100vh - 200px);\n    }\n    border: 5px solid rgb(30,30,30);\n"]);return Ee=function(){return e},e}var Oe=f.a.div(Ee()),Re=f.a.div(xe()),ye=f.a.button(be()),Ie=function(e){return function(t){t({type:"IS_INBOX_TAB",payload:e})}},we=function(e){return function(t){t({type:"ADD_ALL_INFO_INBOX",payload:e})}},je=function(e){return function(t){t({type:"ADD_REQUEST_COUNT",payload:e})}},De=function(e){return function(t){t({type:"IS_MESSAGE_REQUEST",payload:e})}};function Me(){var e=Object(h.a)(["\n    background-color: rgb(40,40,40);\n    color: white;\n    border: none;\n    justify-content: center;\n    &:hover{\n        cursor:pointer\n    }\n"]);return Me=function(){return e},e}function Se(){var e=Object(h.a)(["\n    background-color: rgb(40,40,40);\n    color: white;\n    border: none;\n    justify-content: center;\n    &:hover{\n        cursor:pointer\n    }\n"]);return Se=function(){return e},e}function Ce(){var e=Object(h.a)(["\n    display: flex;\n    width: 50vw;\n"]);return Ce=function(){return e},e}var Ae=f.a.div(Ce()),Ue=f.a.button(Se()),Le=f.a.button(Me()),_e=Object(U.b)((function(e){return{currentChatIDRedux:e.app.currentChatIDRedux,userID:e.app.userID,messagesRedux:e.app.messagesRedux,emailRedux:e.app.emailRedux}}))((function(e){var t=function(t){var n;w.database().ref("messages/".concat(e.currentChatIDRedux)).update({requestStatus:t}),w.database().ref("users/".concat(e.userID)).update({lastUpdated:Date.now()}),"accepted"===t?(e.dispatch(Ie(!0)),n=e.currentChatIDRedux,e.messagesRedux.length>0&&w.database().ref("messages/".concat(n)).once("value",(function(t){var a=t.val(),r=Object.keys(a),s=Object.values(a);r.reverse().splice(0,9),s.reverse().splice(0,9);for(var o=0,u=0,i=s;u<i.length;u++){var c=i[u];if(!1!==c.read)break;c.email!==e.emailRedux&&(w.database().ref("messages/".concat(n,"/").concat(r[o])).update({read:!0,readTime:Date.now()}),o++)}}))):(e.dispatch(N([])),e.dispatch(F(null))),e.dispatch(De(!1))};return r.a.createElement(Ae,null,r.a.createElement(Ue,{onClick:function(){return t("rejected")},className:"br2"},"Delete"),r.a.createElement(Le,{onClick:function(){return t("accepted")},className:"br2"},"Accept"))})),ke=n(37);function Te(){var e=Object(h.a)(["\n  display: inline-block;\n  width: 100px;\n  height: 100px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: rgb(230,230,230);\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]);return Te=function(){return e},e}function Ne(){var e=Object(h.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ne=function(){return e},e}var qe=f.a.div(Ne()),Be=f.a.div(Te()),Ge=function(e){return function(t){var n=t.isLoading,a=Object(ke.a)(t,["isLoading"]);return n?r.a.createElement(qe,null,r.a.createElement(Be,null)):r.a.createElement(e,a)}}(he),Ve=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).loadMoreMessages=function(){(function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.dispatch(k(!0));case 2:return t.next=4,e.props.dispatch(T(e.props.quantityLoadMessages+15));case 4:return t.next=6,e.props.getMessages(e.props.currentChatIDRedux);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},e}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Oe,{className:"message-container"},r.a.createElement(ve,{height:!0},this.props.messagesRedux.length>23?r.a.createElement(Re,null,r.a.createElement(ye,{onClick:this.loadMoreMessages},this.props.loadMessagesText)):null,r.a.createElement(Ge,{isLoading:this.props.isMessagesLoading,removeItem:this.props.removeItem,user:this.props.usernameState}),r.a.createElement("div",{id:"scroll-here"}))),null!==this.props.currentChatIDRedux?this.props.isMessageRequest?r.a.createElement(_e,null):r.a.createElement(z,{newMessageRoute:this.props.newMessageRoute,usernameState:this.props.usernameState,getMessages:this.props.getMessages,usernameFunc:this.props.username}):null)}}]),n}(a.Component),Pe=Object(U.b)((function(e){return{currentChatIDRedux:e.app.currentChatIDRedux,messagesRedux:e.app.messagesRedux,isMessageRequest:e.requests.isMessageRequest,loadMessagesText:e.app.loadMessagesText,isMessagesLoading:e.app.isMessagesLoading,quantityLoadMessages:e.app.quantityLoadMessages}}))(Ve),Fe=n(13);function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Xe=r.a.createElement("circle",{cx:20,cy:20,r:16,fill:"rgb(26, 26, 26)"}),ze=function(e){var t=e.svgRef,n=e.title,a=Qe(e,["svgRef","title"]);return r.a.createElement("svg",We({height:40,width:40,ref:t},a),n?r.a.createElement("title",null,n):null,Xe)},He=r.a.forwardRef((function(e,t){return r.a.createElement(ze,We({svgRef:t},e))}));n.p;function Ke(){var e=Object(h.a)(["\n    position: absolute;\n"]);return Ke=function(){return e},e}function Je(){var e=Object(h.a)(["\n\n"]);return Je=function(){return e},e}function Ye(){var e=Object(h.a)(["\n    float: right;\n    width: 25%;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return Ye=function(){return e},e}function $e(){var e=Object(h.a)(["\n    word-wrap:break-word;\n"]);return $e=function(){return e},e}function Ze(){var e=Object(h.a)(["\n    font-size: 20px;\n"]);return Ze=function(){return e},e}function et(){var e=Object(h.a)(["\n    float: left;\n    width: 50%;\n    height: 50%;\n"]);return et=function(){return e},e}function tt(){var e=Object(h.a)(["\n    padding-left: 10px;\n    height: 60px;\n    width: 60px;\n"]);return tt=function(){return e},e}function nt(){var e=Object(h.a)(["\n    width: 25%;\n    float: left;\n    align-items: center;\n"]);return nt=function(){return e},e}function at(){var e=Object(h.a)(["\n    height: 90px;\n    cursor: pointer;\n    border: solid rgb(5,5,5) 1px;\n    background-color: "," ;\n    color: white;\n    display: flex;\n    width: 97%;\n"]);return at=function(){return e},e}var rt=f.a.div(at(),(function(e){return e.isCurrentThread?"rgb(100,100,100) ":"rgb(40,40,40)"})),st=f.a.div(nt()),ot=f.a.img(tt()),ut=f.a.div(et()),it=f.a.div(Ze()),ct=f.a.div($e()),lt=f.a.div(Ye()),pt=(Object(f.a)(He)(Je()),f.a.div(Ke())),dt=function(e,t){var n=0;return e.lastMessage<t.lastMessage?n=1:e.lastMessage>t.lastMessage&&(n=-1),n},mt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={messages:[],allInfo:[]},e.getMessageSummaries=function(){var t=w.auth().currentUser;w.database().ref("users/".concat(t.uid)).on("value",(function(n){var a=n.val();a&&(a.messages?function(){var n=Object.values(a.messages);n=n.sort(dt);var r,s=[],o=[],u=[],i=[],c={},l=Object(Fe.a)(n);try{var p=function(){var n=r.value,a=0,l=w.database().ref("messages/".concat(n.messageID)),p=void 0;l.on("value",(function(r){if(r.val()){var l={};p=Object.values(r.val());var d=Object.values(r.val());d.reverse().splice(0,10);for(var m=0,h=0,f=d;h<f.length;h++){var g=f[h];if(console.log(g),!1!==g.read)break;g.email!==t.email&&m++}var v,b,x=Object.values(r.val());v=x[x.length-3]===t.displayName?x[x.length-6]:x[x.length-3],b=x[x.length-1]===t.photoURL?x[x.length-4]:x[x.length-1],x[x.length-2]===t.email?i.push(x[x.length-5]):i.push(x[x.length-2]),(p=p[p.length-11])&&(p=Object.values(p)[1]).length+p.split(" ").length>31&&(p=p.slice(0,31),p+="..."),u.push(n.messageID),l.message=p,l.photoURL=b,l.displayName=v,l.unread=m,"accepted"!==r.val().requestStatus&&r.val().request===e.props.emailRedux||(c[n.messageID]=l,e.setState({allInfo:c}),e.props.dispatch(we(c)),s.push(n.messageID)),r.val().request===e.props.emailRedux&&"pending"===r.val().requestStatus?(o.push(n.messageID),e.props.dispatch(L(!1))):a>-1?null===e.props.currentChatIDRedux&&("rejected"===r.val().requestStatus&&r.val().request===e.props.emailRedux||(e.props.newMessageRoute(n.messageID),a=-1)):a++,e.props.dispatch(je(o.length))}})),e.props.dispatch(B(i)),e.props.dispatch(q(u))};for(l.s();!(r=l.n()).done;)p()}catch(d){l.e(d)}finally{l.f()}e.props.messagesRedux.length>=s.length+o.length&&document.getElementById("scroll-here")&&document.getElementById("scroll-here").scrollIntoView(),e.setState({messages:s})}():e.props.dispatch(L(!1))),e.props.dispatch(L(!1))}))},e.test=function(){console.log(Object.values(e.state.allInfo))},e.inboxToMessages=function(t){e.props.newMessageRoute(t),w.database().ref("messages/".concat(t)).on("value",(function(n){if(n.val()){var a=n.val(),r=Object.keys(a),s=Object.values(a);r.reverse().splice(0,8),s.reverse().splice(0,8),s.map((function(n,a){!1===n.read&&(n.email!==e.props.emailRedux&&w.database().ref("messages/".concat(t,"/").concat(r[a])).update({read:!0,readTime:Date.now()}));return null})),document.getElementById("scroll-here").scrollIntoView()}}))},e.inboxToMessagesAsync=function(t){t!==e.props.currentChatIDRedux&&function(){var n=Object(c.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.props.dispatch(De(!1));case 2:return n.next=4,e.inboxToMessages(t);case 4:return n.next=6,document.getElementById("scroll-here").scrollIntoView();case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()},e.getMessageSummariesAsync=function(){(function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.dispatch(je(0));case 2:return t.next=4,e.getMessageSummaries();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(je(0)),this.getMessageSummaries()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,Object.values(this.props.allInfoInbox).map((function(t,n){return r.a.createElement(rt,{className:"br3 pa3 ma2",isCurrentThread:e.props.currentChatIDRedux===e.state.messages[n],onClick:function(){return e.inboxToMessagesAsync(e.state.messages[n])},key:n},r.a.createElement(st,null,r.a.createElement(ot,{alt:"user profile",src:t.photoURL})),r.a.createElement(ut,null,r.a.createElement(it,null,t.displayName),r.a.createElement(ct,null,t.message)),t.unread>0?r.a.createElement(lt,null,r.a.createElement(He,null),r.a.createElement(pt,null,t.unread)):null)})))}}]),n}(a.Component),ht=Object(U.b)((function(e){return{currentChatIDRedux:e.app.currentChatIDRedux,emailRedux:e.app.emailRedux,isInboxTab:e.inbox.isInboxTab,requestCount:e.requests.requestCount,allInfoInbox:e.inbox.allInfoInbox,messagesRedux:e.app.messagesRedux,userRedux:e.app.userRedux}}))(mt),ft=function(e,t){var n=0;return e.lastMessage<t.lastMessage?n=1:e.lastMessage>t.lastMessage&&(n=-1),n},gt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={messages:[],allInfo:[]},e.getMessageSummaries=function(){var t=w.auth().currentUser;w.database().ref("users/".concat(t.uid)).on("value",(function(n){var a=n.val();a&&a.messages&&function(){var n=Object.values(a.messages);n=n.sort(ft);var r,s=[],o=[],u=[],i={},c=Object(Fe.a)(n);try{var l=function(){var n=r.value,a=w.database().ref("messages/".concat(n.messageID)),c=void 0;a.on("value",(function(a){if(a.val()){var r={};c=Object.values(a.val());var l,p,d=Object.values(a.val());d[d.length-3]===t.displayName?l=d[d.length-6]:d[d.length-6]===t.displayName&&(l=d[d.length-3]),d[d.length-1]===t.photoURL?p=d[d.length-4]:d[d.length-4]===t.photoURL&&(p=d[d.length-1]),d[d.length-2]===t.email?u.push(d[d.length-5]):d[d.length-5]===t.email&&u.push(d[d.length-2]),(c=c[c.length-11])&&(c=Object.values(c)[1]).length+c.split(" ").length>31&&(c=c.slice(0,31),c+="..."),o.push(n.messageID),r.message=c,r.photoURL=p,r.displayName=l,r.unread=0,a.val().request===e.props.emailRedux&&"pending"===a.val().requestStatus&&(i[n.messageID]=r,e.setState({allInfo:i}),s.push(n.messageID))}document.getElementById("scroll-here")&&document.getElementById("scroll-here").scrollIntoView()})),e.props.dispatch(B(u)),e.props.dispatch(q(o))};for(c.s();!(r=c.n()).done;)l()}catch(p){c.e(p)}finally{c.f()}e.setState({messages:s})}()}))},e.test=function(){},e.inboxToMessagesAsync=function(t){(function(){var n=Object(c.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.props.dispatch(De(!0));case 2:return n.next=4,e.props.newMessageRoute(t);case 4:return n.next=6,document.getElementById("scroll-here").scrollIntoView();case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.getMessageSummaries()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.messages.length>0?r.a.createElement("div",null,this.props.isInboxTab?r.a.createElement("div",null,"Hellooo"):Object.values(this.state.allInfo).map((function(t,n){return r.a.createElement(rt,{className:"br3 pa3 ma2",isCurrentThread:e.props.currentChatIDRedux===e.state.messages[n],onClick:function(){return e.inboxToMessagesAsync(e.state.messages[n])},key:n},r.a.createElement(st,null,r.a.createElement(ot,{alt:"user profile",src:t.photoURL})),r.a.createElement(ut,null,r.a.createElement(it,null,t.displayName),r.a.createElement(ct,null,t.message)))}))):null)}}]),n}(a.Component),vt=Object(U.b)((function(e){return{currentChatIDRedux:e.app.currentChatIDRedux,emailRedux:e.app.emailRedux,isInboxTab:e.inbox.isInboxTab}}))(gt);function bt(){var e=Object(h.a)(["\n    &:hover {\n        cursor: pointer;\n    };\n    text-decoration: ","\n"]);return bt=function(){return e},e}function xt(){var e=Object(h.a)(["\n    &:hover {\n        cursor: pointer\n    };\n    text-decoration: ","\n"]);return xt=function(){return e},e}function Et(){var e=Object(h.a)(["\n    display: flex;\n    color: white;\n    justify-content: space-evenly;\n"]);return Et=function(){return e},e}function Ot(){var e=Object(h.a)(["\n    @media (max-width: 900px) {\n        width: 100vw;\n        height: 86vh; \n    }\n    @media (min-width: 900px) {\n        width: 400px;\n        height: 200px; \n    }\n"]);return Ot=function(){return e},e}var Rt=f.a.div(Ot()),yt=f.a.div(Et()),It=f.a.div(xt(),(function(e){return e.isSelected?"underline":"null"})),wt=f.a.div(bt(),(function(e){return e.isSelected?"null":"underline"})),jt=Object(U.b)((function(e){return{isInboxTab:e.inbox.isInboxTab,requestCount:e.requests.requestCount}}))((function(e){return r.a.createElement("div",null,r.a.createElement(yt,null,r.a.createElement(It,{isSelected:e.isInboxTab,onClick:function(){return e.dispatch(Ie(!0))}},"Inbox"),r.a.createElement(wt,{isSelected:e.isInboxTab,onClick:function(){return e.dispatch(Ie(!1))}},"Requests (",e.requestCount,")")),e.isInboxTab?r.a.createElement(ve,{height:!1},r.a.createElement(Rt,null,r.a.createElement(ht,{newMessageRoute:e.newMessageRoute}))):r.a.createElement(ve,{height:!1},r.a.createElement(Rt,null,r.a.createElement(vt,{newMessageRoute:e.newMessageRoute}))))}));function Dt(){var e=Object(h.a)(["\n    color: white;\n"]);return Dt=function(){return e},e}function Mt(){var e=Object(h.a)(["\n    height: 30px;\n    width: 250px;\n    cursor: pointer;\n    background-color: gray;\n    color: white;\n    border: none;\n    margin: 0 5px 0 10px;\n"]);return Mt=function(){return e},e}function St(){var e=Object(h.a)(["\n    height: 35px;\n    width: 40px;\n    cursor: pointer;\n    background-color: rgb(50,50,50);\n    color: white;\n    border: none;\n"]);return St=function(){return e},e}var Ct=f.a.button(St()),At=f.a.input(Mt()),Ut=f.a.div(Dt()),Lt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",isUserExist:""},e.handleEmail=function(t){e.setState({email:t.target.value})},e.createNewMessage=function(){if(e.state.email.length>0){var t=e.props.allCurrentUserEmailsRedux.indexOf(e.state.email);if(-1!==t)e.props.getMessages(e.props.allCurrentUserIDsRedux[t]),e.props.dispatch(F(e.props.allCurrentUserIDsRedux[t])),"user does not exist"===e.state.isUserExist&&e.setState({isUserExist:""});else{var n,a=Object(Fe.a)(e.props.allUserEmailsRedux);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(e.state.email===e.props.emailRedux)break;if(r===e.state.email){e.props.dispatch(N([])),e.props.dispatch(F("NEW MESSAGE")),e.props.dispatch(V(e.state.email)),e.setState({isUserExist:""}),document.getElementById("email-input").value="";break}e.setState({isUserExist:"user does not exist"})}}catch(s){a.e(s)}finally{a.f()}}}},e}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement(Ut,null,r.a.createElement(At,{className:"br2",id:"email-input",onChange:this.handleEmail,placeholder:"enter email"}),r.a.createElement(Ct,{className:"br2",onClick:this.createNewMessage},"+"),r.a.createElement("div",null,this.state.isUserExist))}}]),n}(a.Component),_t=Object(U.b)((function(e){return{allUserEmailsRedux:e.app.allUserEmailsRedux,emailRedux:e.app.emailRedux,allCurrentUserEmailsRedux:e.app.allCurrentUserEmailsRedux,allCurrentUserIDsRedux:e.app.allCurrentUserIDsRedux}}))(Lt);function kt(){var e=Object(h.a)(["\n    @media (max-width: 900px) {\n        display: none;\n    }\n    display: flex;\n"]);return kt=function(){return e},e}function Tt(){var e=Object(h.a)(["\n"]);return Tt=function(){return e},e}function Nt(){var e=Object(h.a)(["\n    font-size: calc(8px + 3vw);\n    color: white;\n    font-family: 'Lato';\n    position: absolute;\n    top: 45%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return Nt=function(){return e},e}function qt(){var e=Object(h.a)(["\n    display: flex;\n"]);return qt=function(){return e},e}function Bt(){var e=Object(h.a)(["\n    border: none;\n    height: 5vh;\n    width: 20vw;\n    min-width: 200px;\n    color: white;\n    cursor: pointer;\n    background-color: rgb(18, 208, 255);\n    position: absolute;\n    top: 55%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-family: 'Lato';\n    font-size:calc(12px + 1vw);\n    &:hover {\n        background-color: green;\n    }\n"]);return Bt=function(){return e},e}function Gt(){var e=Object(h.a)(["\n    border: none;\n    color: white;\n    cursor: pointer;\n    background-color: rgb(80, 80, 80);\n    margin: 5px 5px 5px 10px;\n"]);return Gt=function(){return e},e}function Vt(){var e=Object(h.a)(["\n    width: 100%;\n"]);return Vt=function(){return e},e}function Pt(){var e=Object(h.a)(["\n    @media (min-width: 900px) {\n        display: none;\n    }\n"]);return Pt=function(){return e},e}function Ft(){var e=Object(h.a)(["\n    @media (min-width: 900px){\n        display: none;\n    }\n"]);return Ft=function(){return e},e}var Wt=f.a.div(Ft()),Qt=f.a.div(Pt()),Xt=f.a.div(Vt()),zt=f.a.button(Gt()),Ht=f.a.button(Bt()),Kt=f.a.div(qt()),Jt=f.a.div(Nt()),Yt=f.a.div(Tt()),$t=f.a.div(kt());function Zt(){var e=Object(h.a)(["\n    color: white;\n    font-family: 'Lato', sans-serif;\n"]);return Zt=function(){return e},e}function en(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: center;\n"]);return en=function(){return e},e}function tn(){var e=Object(h.a)(["\n    max-width: 50%;\n    max-height: 50%\n    display: flex;\n    align-self: center;\n"]);return tn=function(){return e},e}function nn(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: center;\n    width: 100%\n    height: 100%\n"]);return nn=function(){return e},e}function an(){var e=Object(h.a)(["\n"]);return an=function(){return e},e}var rn=f.a.div(an()),sn=f.a.div(nn()),on=f.a.img(tn()),un=f.a.div(en()),cn=f.a.div(Zt()),ln=n(34),pn=n.n(ln),dn=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(p.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(rn,null,r.a.createElement(un,null,r.a.createElement(cn,null,"Something went wrong")),r.a.createElement(sn,null,r.a.createElement(on,{src:pn.a}))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),mn=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",showLogInButton:!1,isMessagesLoading:!0,isChat:!0},e.username=function(t){e.setState({username:t.target.value})},e.stayLoggedIn=function(){I.onAuthStateChanged((function(t){t?(e.setState({username:t.displayName}),e.props.dispatch(P(t.email)),e.props.dispatch(Q(t.uid)),e.props.dispatch(W(t)),e.getUserInfo()):e.setState({showLogInButton:!0})}))},e.getUserInfo=function(){w.database().ref("users").on("value",(function(t){var n=t.val(),a=[];for(var r in n)a.push(n[r].email);e.props.dispatch(G(a))}))},e.addUserDataTemp=function(e,t,n){var a={name:e,email:t,dateCreated:Date.now(),photoURL:n};w.database().ref("users").push(a)},e.addUserData=function(e,t,n,a){var r={name:e,email:t,dateCreated:Date.now(),photoURL:a};w.database().ref("users/".concat(n)).set(r)},e.removeItem=function(t){w.database().ref("/messages/".concat(e.props.currentChatIDRedux,"/").concat(t)).remove()},e.logout=function(){I.signOut(),e.props.dispatch(N([])),e.props.dispatch(q([])),e.props.dispatch(B([])),e.props.dispatch(G([])),e.props.dispatch(V("")),e.props.dispatch(P("")),e.props.dispatch(F(null)),e.props.dispatch(W(null)),e.props.dispatch(Q(""))},e.getMessages=function(t){w.database().ref("messages/".concat(t)).orderByKey().limitToLast(e.props.quantityLoadMessages).on("value",(function(n){var a=n.val(),r=[];if(a&&("accepted"===a.requestStatus||a.request!==e.props.emailRedux||a.request===e.props.emailRedux&&"pending"===a.requestStatus)){for(var s in a)r.push({itemId:s,user:a[s].user,message:a[s].message,email:a[s].email,sent:a[s].sent,read:a[s].read,readTime:a[s].readTime});e.props.messagesRedux&&a.messageCount===r.length-10&&e.props.dispatch(_("No more messages")),e.props.currentChatIDRedux!==n.ref_.path.pieces_[1]&&e.props.currentChatIDRedux!==t||e.props.dispatch(N(r))}e.props.dispatch(L(!1))})),e.props.preventScrollDown||(document.getElementById("scroll-here")&&document.getElementById("scroll-here").scrollIntoView(),e.props.dispatch(k(!1)))},e.login=function(){I.signInWithPopup(y).then((function(t){var n=t.user;e.setState({user:n,username:n.displayName}),w.database().ref("users").once("value",(function(t){var a=t.val(),r=0;for(var s in a)a[s].email===n.email&&r++;0===r&&e.addUserData(n.displayName,n.email,n.uid,n.photoURL)})),e.getUserInfo()}))},e.scrollDown=function(){document.getElementById("scroll-here")&&document.getElementById("scroll-here").scrollIntoView()},e.newMessageRoute=function(t){t!==e.props.currentChatIDRedux&&function(){var n=Object(c.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.props.dispatch(F(t));case 2:return n.next=4,e.props.dispatch(T(24));case 4:return n.next=6,e.getMessages(t);case 6:return n.next=8,e.props.dispatch(_("Load more messages"));case 8:return n.next=10,e.scrollDown();case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()},e.test=function(){},e.isChat=function(t){e.setState({isChat:t})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.stayLoggedIn()}},{key:"render",value:function(){return r.a.createElement(Xt,null,r.a.createElement(dn,null,this.props.userRedux?r.a.createElement(zt,{className:"br1 br3 pa2 ma1 dib",onClick:this.logout},"Log Out | ",this.state.username):this.state.showLogInButton?r.a.createElement(Yt,null,r.a.createElement(Jt,null,"Messaging App"),r.a.createElement(Ht,{onClick:this.login},"LOG IN")):null,this.props.userRedux?r.a.createElement("div",null,r.a.createElement(_t,{getMessages:this.getMessages,newMessageRoute:this.newMessageRoute}),r.a.createElement(Qt,null,r.a.createElement(E,{isChat:this.isChat,isChatState:this.state.isChat})),r.a.createElement(Kt,null,r.a.createElement($t,null,r.a.createElement(jt,{newMessageRoute:this.newMessageRoute}),r.a.createElement(Pe,{newMessageRoute:this.newMessageRoute,getMessages:this.getMessages,usernameFunc:this.username,usernameState:this.state.username,removeItem:this.removeItem})),r.a.createElement(Wt,null,this.state.isChat?r.a.createElement(Pe,{newMessageRoute:this.newMessageRoute,getMessages:this.getMessages,usernameFunc:this.username,usernameState:this.state.username,removeItem:this.removeItem}):r.a.createElement(jt,{newMessageRoute:this.newMessageRoute})))):null))}}]),n}(a.Component),hn=Object(U.b)((function(e){return{messagesRedux:e.app.messagesRedux,userRedux:e.app.userRedux,currentChatIDRedux:e.app.currentChatIDRedux,isMessageRequest:e.requests.isMessageRequest,emailRedux:e.app.emailRedux,quantityLoadMessages:e.app.quantityLoadMessages,preventScrollDown:e.app.preventScrollDown}}))(mn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fn(){var e=Object(h.a)(["\n    // background-color: rgb(28,28,28);\n    background-color: rgb(18,18,23)\n    color: white;\n"]);return fn=function(){return e},e}var gn=f.a.div(fn()),vn=(n(56),n(11)),bn=n(3),xn={userRedux:"",userIDRedux:"",currentChatIDRedux:null,emailRedux:"",newMessageOtherUserEmailRedux:"",allUserEmailsRedux:[],allCurrentUserEmailsRedux:[],allCurrentUserIDsRedux:[],messagesRedux:[],quantityLoadMessages:24,preventScrollDown:!1,loadMessagesText:"Load more messages",isMessagesLoading:!0};var En={isInboxTab:!0,allInfoInbox:[]};var On={messagesInboxRedux:[],allInfoRedux:[]};var Rn={requestCount:0,isMessageRequest:!1};var yn=Object(vn.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_MESSAGES_LOADING":return Object(bn.a)(Object(bn.a)({},e),{},{isMessagesLoading:t.payload});case"LOAD_MESSAGES_TEXT":return Object(bn.a)(Object(bn.a)({},e),{},{loadMessagesText:t.payload});case"PREVENT_SCROLL_DOWN":return Object(bn.a)(Object(bn.a)({},e),{},{preventScrollDown:t.payload});case"ADD_QUANTITY_LOAD_MESSAGES":return Object(bn.a)(Object(bn.a)({},e),{},{quantityLoadMessages:t.payload});case"ADD_MESSAGES":return Object(bn.a)(Object(bn.a)({},e),{},{messagesRedux:t.payload});case"ADD_ALL_CURRENT_USER_IDS":return Object(bn.a)(Object(bn.a)({},e),{},{allCurrentUserIDsRedux:t.payload});case"ADD_ALL_CURRENT_USER_EMAILS":return Object(bn.a)(Object(bn.a)({},e),{},{allCurrentUserEmailsRedux:t.payload});case"ADD_ALL_USER_EMAILS":return Object(bn.a)(Object(bn.a)({},e),{},{allUserEmailsRedux:t.payload});case"ADD_NEW_MESSAGE_OTHER_USER_EMAIL":return Object(bn.a)(Object(bn.a)({},e),{},{newMessageOtherUserEmailRedux:t.payload});case"ADD_EMAIL":return Object(bn.a)(Object(bn.a)({},e),{},{emailRedux:t.payload});case"ADD_CURRENT_CHAT_ID":return Object(bn.a)(Object(bn.a)({},e),{},{currentChatIDRedux:t.payload});case"ADD_USER":return Object(bn.a)(Object(bn.a)({},e),{},{userRedux:t.payload});case"ADD_USERID":return Object(bn.a)(Object(bn.a)({},e),{},{userID:t.payload});default:return e}},inbox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_INBOX_TAB":return Object(bn.a)(Object(bn.a)({},e),{},{isInboxTab:t.payload});case"ADD_ALL_INFO_INBOX":return Object(bn.a)(Object(bn.a)({},e),{},{allInfoInbox:t.payload});default:return e}},inboxContainer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INBOX_MESSAGES":return Object(bn.a)(Object(bn.a)({},e),{},{messagesInboxRedux:t.payload});case"ADD_ALL_INFO":return Object(bn.a)(Object(bn.a)({},e),{},{allInfoRedux:t.payload});default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_REQUEST_COUNT":return Object(bn.a)(Object(bn.a)({},e),{},{requestCount:t.payload});case"IS_MESSAGE_REQUEST":return Object(bn.a)(Object(bn.a)({},e),{},{isMessageRequest:t.payload});default:return e}}}),In=n(35),wn=n(36),jn=Object(vn.createStore)(yn,Object(wn.composeWithDevTools)(Object(vn.applyMiddleware)(In.a)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U.a,{store:jn},r.a.createElement(gn,null,r.a.createElement(hn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.af5018ac.chunk.js.map